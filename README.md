# Тестовое задание для вакансии Ruby Developer в Realy

## Постановка

[Оригинал](https://i.imgur.com/leU19It.jpg).

### Задача

Написать веб-сервис с использованием фрэймворка `Ruby on Rails ~> 6.0` и гема `activerecord`, который будет возвращать JSON-объект в ответ на запрос к URI `/feed` методом `GET`.

### Предметная область

Сущность `Пользователь` с перечисленными ниже признаками:

* имя
* возраст
* местоположение
* номер телефона
* настройки (диапазон возрастов от 18 до 100, максимальная дистанция в километрах)
* время последнего посещения

### Формирование данных для выдачи

Помимо хранения информации о экземплярах сущности `Пользователь` в базе данных необходимо индексировать её в поисковой системе `Elasticsearch`. Итоговая выдача должна запрашиваться в поисковой системе и отдаваться в ответ на запрос к `/feed`. Для взаимодействия с поисковой системой использовать гем `chewy`.

### Требования к URI `/feed`

Необходимо реализовать возможность получать данные постранично, а также указывать кол-во объектов сущности `Пользователь` на одной странице. Также должна присутствовать возможность получать объекты сущности `Пользователь`, чьё время последнего посещения не превышает одну неделю.

### Требования к тестированию

Для тестирования используйте фрэймворк `RSpec`, а также вспомогательные гемы на Ваше
усмотрение.

Тесты должны покрывать запрос к `/feed` с разными параметрами, обновление записей в индексе поисковой системы после изменения соответствующих им записей в базе данных.

Нужно использовать фэйковые данные, регистрацию делать не надо.

## Решение

TODO

## Запуск

### Требования

*   Ruby, версия указана в файле `.ruby-version`
*   PostgreSQL
*   PostGIS
*   Elasticsearch, в приложении включён патч для версии 7

### Настройка

Стандартные операции для Rails приложений, которые они почему-то не написали в шаблоне,
ну и я не буду.

### Тестирование

`rails spec`, но он не принимает параметров для RSpec, так что я советую `bundle exec rspec`.
